<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agro Intelligence â€” Example</title>
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>ğŸŒ¾ Agro Intelligence</h1>
  <p>Enter a city and crop to check if weather conditions are suitable:</p>

  <form id="checkForm">
    <input type="text" id="city" placeholder="Enter a city (e.g., Hamburg)" required />
    <input type="text" id="crop" placeholder="Enter a crop (e.g., Wheat)" required />
    <button type="submit">Check</button>
  </form>

  <div class="result" id="result" style="display:none;"></div>

  <footer>
    Agro Intelligence Â© 2025 | Example Demo
  </footer>

  <script>
    const form = document.getElementById("checkForm");
    const resultDiv = document.getElementById("result");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const city = document.getElementById("city").value.trim().toLowerCase();
      const crop = document.getElementById("crop").value.trim().toLowerCase();

      resultDiv.style.display = "block";

      if (city === "hamburg" && crop === "wheat") {
        const data = {
          city: "Hamburg",
          crop: "Wheat",
          suitable: true,
          details: [
            "ğŸŒ¡ï¸ Temperature is within optimal range (5â€“27Â°C). Current: 9.87Â°C.",
            "ğŸ’§ Annual rainfall is sufficient (300â€“1600 mm).",
            "ğŸ’¨ Humidity level is favorable (88%)."
          ],
          weather: {
            main: { temp: 9.87, feels_like: 6.32, humidity: 88, pressure: 1002 },
            wind: { speed: 8.75, deg: 250 },
            clouds: { all: 75 },
            rain: { "1h": 0.13 },
            sys: { country: "DE", sunrise: "07:31", sunset: "16:15" },
            weather: [{ description: "light rain", icon: "10d" }]
          },
          crop_info: {
            ScientificName: "Triticum aestivum",
            CAT: "Cereals & pseudocereals",
            LISPA: "Erect Annual",
            PLAT: "Grass",
            TOPMN: 15,
            TOPMX: 23,
            ROPMN: 300,
            ROPMX: 1600,
            TEXT: "Medium (50â€“150 cm)",
            DRA: "Well-drained (tolerates dry spells)",
            PHOPMN: 5.5,
            PHOPMX: 8.5,
            FER: "High",
            CLIZ: "Temperate oceanic/continental",
            GMIN: 90,
            GMAX: 250
          }
        };

        const status = `<p class="ok">âœ… The conditions are suitable for growing ${data.crop}!</p>`;
        const details = data.details.map(d => `<li>${d}</li>`).join("");

        const weather = `
          <div class="weather">
            <h3>ğŸŒ¤ Weather Information (${data.city})</h3>
            <p><b>
              <img src="https://openweathermap.org/img/wn/${data.weather.weather[0].icon}@2x.png"
                   alt="${data.weather.weather[0].description}"
                   style="width:28px;height:28px;vertical-align:middle;margin-right:5px;filter:brightness(1.3);">
              Conditions:</b> ${data.weather.weather[0].description}
            </p>
            <p><b>ğŸŒ¡ Temperature:</b> ${data.weather.main.temp}Â°C (feels like ${data.weather.main.feels_like}Â°C)</p>
            <p><b>ğŸ’§ Humidity:</b> ${data.weather.main.humidity}%</p>
            <p><b>ğŸŒ¬ Wind:</b> ${data.weather.wind.speed} m/s, direction ${data.weather.wind.deg}Â°</p>
            <p><b>â˜ï¸ Cloudiness:</b> ${data.weather.clouds.all}%</p>
            <p><b>ğŸŒ¦ Rain (1h):</b> ${data.weather.rain["1h"]} mm</p>
            <p><b>ğŸŒ¡ Pressure:</b> ${data.weather.main.pressure} hPa</p>
            <p><b>ğŸŒ… Sunrise:</b> ${data.weather.sys.sunrise}</p>
            <p><b>ğŸŒ‡ Sunset:</b> ${data.weather.sys.sunset}</p>
            <p><b>ğŸ“ Country:</b> ${data.weather.sys.country}</p>
          </div>
        `;

        const eco = `
          <div class="ecocrop">
            <h3>ğŸŒ¾ EcoCrop Information (${data.crop})</h3>
            <p><b>Scientific Name:</b> ${data.crop_info.ScientificName}</p>
            <p><b>Category:</b> ${data.crop_info.CAT}</p>
            <p><b>Growth Type:</b> ${data.crop_info.LISPA} | <b>Plant Type:</b> ${data.crop_info.PLAT}</p>
            <p><b>Optimal Temperature:</b> ${data.crop_info.TOPMN}â€“${data.crop_info.TOPMX}Â°C</p>
            <p><b>Optimal Rainfall:</b> ${data.crop_info.ROPMN}â€“${data.crop_info.ROPMX} mm/year</p>
            <p><b>Soil Depth:</b> ${data.crop_info.TEXT}</p>
            <p><b>Drainage:</b> ${data.crop_info.DRA}</p>
            <p><b>Soil pH:</b> ${data.crop_info.PHOPMN}â€“${data.crop_info.PHOPMX}</p>
            <p><b>Fertility Requirement:</b> ${data.crop_info.FER}</p>
            <p><b>Climate Zones:</b> ${data.crop_info.CLIZ}</p>
            <p><b>Growth Duration:</b> ${data.crop_info.GMIN}â€“${data.crop_info.GMAX} days</p>
          </div>
        `;

        resultDiv.innerHTML = `
          <h2>${data.city}</h2>
          ${status}
          <ul>${details}</ul>
          ${weather}
          ${eco}
        `;
      } else {
        resultDiv.innerHTML = `<p class="bad">âŒ Data for "${city}" and "${crop}" not available.<br>Try <b>Hamburg</b> and <b>Wheat</b>.</p>`;
      }
    });
  </script>
</body>
</html>
